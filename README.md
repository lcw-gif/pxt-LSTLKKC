# INA226 電流電壓感測器擴展

## 簡介

這是一個用於 BBC micro:bit 的 MakeCode 擴展，可以配合 INA226 電流電壓感測器使用。讓學生能夠測量電壓、電流，並使用歐姆定律計算電阻。

INA226 是一款高精度數位電源監測器，具有 I²C 介面。此擴展讓 micro:bit 的積木編程更容易使用這個感測器。

## 功能特點

- 測量匯流排電壓（0-36V）
- 測量電流（可配置分流電阻）
- 使用歐姆定律計算電阻（R = V/I）
- 計算功率消耗
- 支援自定義 I2C 腳位（軟體 I2C）
- 支援預設 I2C 腳位（硬體 I2C：P19/P20）
- 繁體中文積木介面

## 硬體需求

| 元件           | 數量 | 備註                        |
|----------------|------|-----------------------------|
| BBC micro:bit  | 1    | V1 或 V2                    |
| INA226 模組    | 1    | 常見的藍色模組              |
| 9V 電池        | 1    | 配合電池扣                  |
| 電阻           | 若干 | 用於測試（100Ω、220Ω、330Ω）|
| 麵包板         | 1    |                             |
| 杜邦線         | 若干 | 公對公、公對母              |

## 接線圖

### 方法一：使用預設 I2C 腳位（推薦）

```text
┌─────────────┐         ┌─────────────┐
│  micro:bit  │         │   INA226    │
├─────────────┤         ├─────────────┤
│     3V      ├────────►│     VCC     │
│     GND     ├────────►│     GND     │
│     P19     ├────────►│     SCL     │
│     P20     ├────────►│     SDA     │
└─────────────┘         └─────────────┘
###方法二：使用自定義 I2C 腳位
```text
┌─────────────┐         ┌─────────────┐
│  micro:bit  │         │   INA226    │
├─────────────┤         ├─────────────┤
│     3V      ├────────►│     VCC     │
│     GND     ├────────►│     GND     │
│     P1      ├────────►│     SCL     │
│     P2      ├────────►│     SDA     │
└─────────────┘         └─────────────┘

##INA226 測量電路接線
```text
        ┌────────────────────────────────────────┐
        │                                        │
        │  ┌─────────┐   分流電阻    ┌────────┐  │
  9V ───┼──┤  VIN+   ├───[0.1Ω]─────┤  VIN-  │  │
  電池  │  │         │               │        │  │
        │  │ INA226  │               │        │  │
        │  │         │               └───┬────┘  │
        │  │  VBUS   ├───────────────────┤       │
        │  └─────────┘                   │       │
        │                                │       │
        │                           ┌────┴────┐  │
        │                           │  待測    │  │
        │                           │  電阻    │  │
        │                           └────┬────┘  │
        │                                │       │
        └────────────────────────────────┴───────┘
                                        GND

安裝方法
方法一：從 GitHub 安裝
打開 MakeCode for micro:bit
建立新專案或打開現有專案
點擊齒輪圖示 ⚙️ → 擴展
在搜尋欄中貼上此網址：
https://github.com/lcw-gif/pxt-LSTLKKC

點擊擴展以添加


積木說明
設定類
積木	                                                      說明
設定 I2C 腳位 SDA [P1] SCL [P2]	                    使用自定義腳位（軟體 I2C）
使用預設 I2C 腳位	                                    使用 P19/P20（硬體 I2C）
初始化 INA226 分流電阻 [0.1] 歐姆 地址 [0x40]	        初始化感測器



讀取類
積木	                說明
電壓 (V)	          讀取匯流排電壓
電流 (mA)          	讀取電流
分流電壓 (mV)	      讀取分流電阻上的電壓
功率 (mW)          	讀取功率
電阻 (Ω)	        使用歐姆定律計算電阻

工具類
積木	              說明
INA226 已連接	      檢查感測器是否連接
重置 INA226	        重置感測器
